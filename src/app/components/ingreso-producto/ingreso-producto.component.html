<div class="container">
    <div class="row">
      <div class="col-6">
        <div class="card" >
            <div class="card-body">
                <h3 class="card-title">Ingrese producto a trocar</h3>

                <div class="container">
                    <span><i class="fa fa-user bigicon"></i> Nombre del producto</span>
                    <div class="col-12">
                        <input id="fname" name="name" type="text" placeholder="Nombre" class="form-control" >
                    </div>
                </div>
                <br />
                <div class="container">
                    <span><i class="fa fa-user bigicon"></i> Descripcion</span>
                    <div class="col-12">
                        <textarea class="form-control" aria-label="Descripcion"></textarea>
                    </div>
                </div>
                <br />
                <div class="container">
                    <label for="exampleFormControlSelect1">Categoria</label>
                    <select class="form-control" id="exampleFormControlSelect1">
                      <option>Tecnologia</option>
                      <option>Electrodomesticos</option>
                      <option>Hogar</option>
                      <option>Deportes</option>
                      <option>Musica</option>
                      <option>Vehiculos</option>
                      <option>Accesorios</option>
                    </select>
                </div>
                <br />
                <div class="container">
                    <span><i class="fa fa-phone-square bigicon"> Uso</i></span>
                    <div class="col-auto my-1">
                        <label class="mr-sm-2 sr-only" for="inlineFormCustomSelect">Preference</label>
                        <select class="custom-select mr-sm-2" id="inlineFormCustomSelect">
                          <option selected>Seleccione uso...</option>
                          <option value="1">Ningun Uso</option>
                          <option value="1">Poco Uso</option>
                          <option value="2">Medio Uso</option>
                          <option value="3">Mucho Uso</option>
                          <option value="3">Inusable</option>
                        </select>
                      </div>
                      <div class="col-auto my-1">
                        <button type="submit" class="btn btn-primary">Submit</button>
                      </div>
                </div>
                <br />
                <div class="container">
                    <span><i class="fa fa-envelope-o bigicon"> Ubicacion Aproximada</i></span>
                    <div class="col-12">
                        <div class="form-group input-group">
                            <input type="text" id="search_location" class="form-control" placeholder="Search location">
                            <div class="input-group-btn">
                                <button class="btn btn-default get_map" type="submit">
                                    Locate
                                </button>
                            </div>
                        </div>
                        
                        <!-- display google map -->
                        <div id="geomap"></div>
                        
                        <!-- display selected location information -->
                        <h4>Location Details</h4>
                        <p>Address: <input type="text" class="search_addr" size="45"></p>
                        <p>Latitude: <input type="text" class="search_latitude" size="30"></p>
                        <p>Longitude: <input type="text" class="search_longitude" size="30"></p>
                    </div>
                </div>
                <br />
                <div class="container">
                    <span><i class="fa fa-pencil-square-o bigicon"></i> Valor Refencial</span>
                    <div class="col-12">
                        <input name="password" class="password" placeholder="Contraseña" class="form-control" >
                    </div>
                </div> 
                <br />
                <div class="container">
                    <span><i class="fa fa-pencil-square-o bigicon"></i> Valor Refencial</span>
                    <div class="col-12">
                        <input name="password" class="password" placeholder="Contraseña" class="form-control" >
                    </div>
                </div>
                <br />
                <div class="container">
                    <span><i class="fa fa-pencil-square-o bigicon"></i>Subir Imagen</span>
                    <input type="file" class="form-control-file" id="exampleFormControlFile1">
                </div>
                <br />
                
                <div class="form-group form-check">
                    <input type="checkbox" class="form-check-input" id="exampleCheck1" >
                    <label class="form-check-label" for="exampleCheck1">Acepta los <a href="#">Terminos y
                            Condiciones</a></label>
                </div>
                <div class="container">
                    <div class="col-12 text-center">
                        <button type="button" class="btn btn-outline-danger" >Registrarse</button>
                    </div>
                </div>

            </div>
      </div>
      <div class="col-6">
        <div class="card" style="width: 18rem;">
            <div class="card-body">
                <div class="container">
                   
                </div>
               
                </div>

            </div>
      </div>
    </div>
  </div>
  <script>
    var geocoder;
    var map;
    var marker;
    
    /*
     * Google Map with marker
     */
    function initialize() {
        var initialLat = $('.search_latitude').val();
        var initialLong = $('.search_longitude').val();
        initialLat = initialLat?initialLat:36.169648;
        initialLong = initialLong?initialLong:-115.141000;
    
        var latlng = new google.maps.LatLng(initialLat, initialLong);
        var options = {
            zoom: 16,
            center: latlng,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
    
        map = new google.maps.Map(document.getElementById("geomap"), options);
    
        geocoder = new google.maps.Geocoder();
    
        marker = new google.maps.Marker({
            map: map,
            draggable: true,
            position: latlng
        });
    
        google.maps.event.addListener(marker, "dragend", function () {
            var point = marker.getPosition();
            map.panTo(point);
            geocoder.geocode({'latLng': marker.getPosition()}, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    map.setCenter(results[0].geometry.location);
                    marker.setPosition(results[0].geometry.location);
                    $('.search_addr').val(results[0].formatted_address);
                    $('.search_latitude').val(marker.getPosition().lat());
                    $('.search_longitude').val(marker.getPosition().lng());
                }
            });
        });
    
    }
    
    $(document).ready(function () {
        //load google map
        initialize();
        
        /*
         * autocomplete location search
         */
        var PostCodeid = '#search_location';
        $(function () {
            $(PostCodeid).autocomplete({
                source: function (request, response) {
                    geocoder.geocode({
                        'address': request.term
                    }, function (results, status) {
                        response($.map(results, function (item) {
                            return {
                                label: item.formatted_address,
                                value: item.formatted_address,
                                lat: item.geometry.location.lat(),
                                lon: item.geometry.location.lng()
                            };
                        }));
                    });
                },
                select: function (event, ui) {
                    $('.search_addr').val(ui.item.value);
                    $('.search_latitude').val(ui.item.lat);
                    $('.search_longitude').val(ui.item.lon);
                    var latlng = new google.maps.LatLng(ui.item.lat, ui.item.lon);
                    marker.setPosition(latlng);
                    initialize();
                }
            });
        });
        
        /*
         * Point location on google map
         */
        $('.get_map').click(function (e) {
            var address = $(PostCodeid).val();
            geocoder.geocode({'address': address}, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    map.setCenter(results[0].geometry.location);
                    marker.setPosition(results[0].geometry.location);
                    $('.search_addr').val(results[0].formatted_address);
                    $('.search_latitude').val(marker.getPosition().lat());
                    $('.search_longitude').val(marker.getPosition().lng());
                } else {
                    alert("Geocode was not successful for the following reason: " + status);
                }
            });
            e.preventDefault();
        });
    
        //Add listener to marker for reverse geocoding
        google.maps.event.addListener(marker, 'drag', function () {
            geocoder.geocode({'latLng': marker.getPosition()}, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    if (results[0]) {
                        $('.search_addr').val(results[0].formatted_address);
                        $('.search_latitude').val(marker.getPosition().lat());
                        $('.search_longitude').val(marker.getPosition().lng());
                    }
                }
            });
        });
    });
    </script>